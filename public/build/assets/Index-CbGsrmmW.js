import{j as e,a as c,Y as h}from"./app-DaGN1_yS.js";import{G as p,N as u}from"./GuestLayout-DSB6pX06.js";const j=({links:s,perPage:r})=>e.jsx("nav",{className:"text-center mt-4",children:s.map(a=>e.jsx(c,{preserveScroll:!0,href:`${a.url}&perPage=${r}`,dangerouslySetInnerHTML:{__html:a.label},className:`inline-block py-2 px-3 rounded-lg text-xs ${a.active?"bg-gray-200 text-gray-600":a.url?"hover:bg-gray-100":"text-gray-500 cursor-not-allowed"}`},a.label))}),b=j,g=({user:s})=>{var r;return e.jsx(c,{href:"users/"+s.id,children:e.jsxs("div",{className:" border-[1px] border-black p-3 m-1 rounded-md flex justify-between",children:[e.jsxs("div",{className:" flex flex-col ",children:[s.name+" ID: "+s.id,e.jsx("img",{src:"/storage/"+s.photo,alt:s.name,className:" border w-[70px] h-auto"})]}),e.jsxs("div",{className:" flex flex-col w-[30%] text-left gap-6",children:[e.jsxs("div",{children:["Email: ",s.email]}),e.jsxs("div",{children:["Phone: ",s.phone]})]}),e.jsxs("div",{className:"flex flex-col",children:[s.position,e.jsxs("div",{children:["ID: ",s.position_id]})]}),e.jsxs("div",{children:["With us since ",(r=s.email_verified_at)==null?void 0:r.slice(0,10)]})]})})},f=g,v=()=>{const s=document.querySelector('meta[name="csrf-token"]').getAttribute("content")||"";return e.jsxs("div",{className:"flex items-center flex-col shadow-lg p-10 rounded-2xl mb-6",children:[e.jsxs("form",{action:"/users",method:"post",encType:"multipart/form-data",className:"flex flex-col gap-6 w-[60%]",children:[e.jsx("input",{type:"hidden",name:"_token",value:s}),e.jsx("label",{htmlFor:"name",children:"Full name"}),e.jsx("input",{type:"text",name:"name",placeholder:"Name",className:"rounded-md focus:border-b-amber-300 focus:outline-0 outline-none border-t-0 border-x-0 border-b-2"}),e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",name:"email",placeholder:"example@email.com",className:"rounded-md focus:border-b-amber-300 focus:outline-0 outline-none border-t-0 border-x-0 border-b-2"}),e.jsx("label",{htmlFor:"phone",children:"Phone number"}),e.jsx("input",{type:"tel",name:"phone",placeholder:"+380-123-456-789",className:"rounded-md focus:border-b-amber-300 focus:outline-0 outline-none border-t-0 border-x-0 border-b-2"}),e.jsx("label",{htmlFor:"position_id",children:"Position ID"}),e.jsxs("select",{name:"position_id",className:"rounded-lg border-t-0 border-x-0 border-b-2",children:[e.jsx("option",{value:"",children:"Select a position"}),e.jsx("option",{value:1,children:"1 - Lawyer"}),e.jsx("option",{value:2,children:"2 - Content Manager"}),e.jsx("option",{value:3,children:"3 - Security"}),e.jsx("option",{value:4,children:"4 - Designer"})]}),e.jsx("label",{htmlFor:"photo",children:"Photo"}),e.jsx("input",{type:"file",name:"photo",accept:"image/*",className:"rounded-md focus:border-b-amber-300 focus:outline-0 outline-none border-t-0 border-x-0 border-b-2"}),e.jsx("button",{type:"submit",className:"m-3 p-3 bg-cyan-600 text-white rounded-lg",children:"Register user"})]}),e.jsxs("form",{action:"/token",method:"get",children:[e.jsx("input",{type:"hidden",name:"_token",value:s}),e.jsx("button",{type:"submit",className:" bg-lime-400 m-3 p-3 text-gray-100 shadow-lg rounded-xl",children:"GET ACCESS"})]})]})},N=v;function w({usersResponse:s,usersResponse422:r,usersResponse404:a}){const{users:i,page:l,count:t,total_pages:m,total_users:x,success:d}=s;return e.jsxs(p,{children:[e.jsx(h,{title:"Users"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:[e.jsx("div",{className:"p-6 text-gray-900",children:d?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-gray-500",children:["Current Page: ",l]}),e.jsxs("p",{className:"text-gray-500",children:["Total Users: ",x]}),e.jsxs("p",{className:"text-gray-500",children:["Total Pages: ",m]}),e.jsx(N,{}),e.jsx("div",{className:" max-h-screen overflow-scroll",children:i.data.map((n,o)=>e.jsx("div",{children:e.jsx(f,{user:n})},o))})]}):r?e.jsxs("div",{className:"text-red-500",children:[e.jsx("p",{children:r.message}),r===r?e.jsx("ul",{children:Object.entries(r.fails).map(([n,o])=>e.jsx("li",{children:o},n))}):null]}):a?e.jsx("div",{className:"text-red-500",children:e.jsx("p",{children:a.message})}):e.jsx("div",{children:"Undefined error"})}),e.jsxs("form",{action:`/users?page=${l}&perPage=${t}`,method:"get",children:[e.jsx("label",{htmlFor:"perPage",children:"Users per page"}),e.jsx("input",{id:"perPage",name:"perPage",type:"number",className:"m-2 p-2 rounded-md",defaultValue:t}),e.jsx("input",{type:"text",className:"hidden",name:"page",value:l}),e.jsx("button",{type:"submit",children:"Apply"})]}),d?e.jsx(b,{perPage:t,links:i.meta.links}):e.jsx(u,{href:"/users?page=1&perPage=5",active:route().current("dashboard"),children:"Go to the first page"})]})})})]})}export{w as default};
